"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _get(t,i,e){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,i,e){t=_superPropBase(t,i);if(t){i=Object.getOwnPropertyDescriptor(t,i);return i.get?i.get.call(e):i.value}})(t,i,e||t)}function _superPropBase(t,i){for(;!Object.prototype.hasOwnProperty.call(t,i)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&_setPrototypeOf(t,i)}function _setPrototypeOf(t,i){return(_setPrototypeOf=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function _createSuper(e){var o=_isNativeReflectConstruct();return function(){var t,i=_getPrototypeOf(e);return _possibleConstructorReturn(this,o?(t=_getPrototypeOf(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments))}}function _possibleConstructorReturn(t,i){return!i||"object"!==_typeof(i)&&"function"!=typeof i?_assertThisInitialized(t):i}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,i){for(var e=0;e<i.length;e++){var o=i[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,i,e){return i&&_defineProperties(t.prototype,i),e&&_defineProperties(t,e),t}var section=function(){function o(t,i,e){_classCallCheck(this,o),this.el=document.querySelector(t),this.height=i,this.el.style.height=window.innerHeight*this.height+"px"||"auto",this.top=this.el.offsetTop,this.bottom=this.top+this.el.offsetHeight,this.relative=e||!1,this.init()}return _createClass(o,[{key:"init",value:function(){var t=this;this.sectionPosition(),window.addEventListener("resize",function(){t.resize()}),this.relative&&window.addEventListener("scroll",function(){t.sectionPosition()})}},{key:"sectionPosition",value:function(){this.pageYOffset=window.pageYOffset,this.pageYOffset>=this.bottom-window.innerHeight?(this.el.style.paddingTop=this.bottom-window.innerHeight+"px",this.el.querySelector(".fixed-element").style.height=window.innerHeight+"px",this.el.querySelector(".fixed-element").style.position="relative"):(this.el.style.paddingTop="",this.el.querySelector(".fixed-element").style.height="",this.el.querySelector(".fixed-element").style.position="fixed")}},{key:"resize",value:function(){this.el.style.height=window.innerHeight*this.height+"px"||"auto",this.top=this.el.offsetTop,this.bottom=this.top+this.el.offsetHeight,this.relative&&this.sectionPosition()}}]),o}(),scroll=function(){function o(t,i,e){_classCallCheck(this,o),this.el=document.querySelector(t),this.top=this.el.offsetTop,this.bottom=this.top+this.el.offsetHeight,this.changeEl=1<Array.prototype.slice.call(this.el.querySelectorAll(i)).length?Array.prototype.slice.call(this.el.querySelectorAll(i)):this.el.querySelector(i),this.change=e.change,this.acc=e.acc,this.delayedYOffset=window.pageYOffset,this.rafId=null,this.rafState=!1}return _createClass(o,[{key:"initFunc",value:function(){this.nowScrollPosition(),this.calcValues()}},{key:"bindEvent",value:function(){var t=this;window.addEventListener("resize",function(){t.resize()}),window.addEventListener("scroll",function(){t.scroll()})}},{key:"resize",value:function(){this.top=this.el.offsetTop,this.bottom=this.top+this.el.offsetHeight,this.delayedYOffset=window.pageYOffset,this.scroll()}},{key:"scroll",value:function(){this.nowScrollPosition(),this.rafState||(this.rafId=window.requestAnimationFrame(this.calcValues.bind(this)),this.rafState=!0)}},{key:"nowScrollPosition",value:function(){this.pageYOffset=window.pageYOffset,this.el.querySelector(".fixed-element")&&(this.top<=this.pageYOffset&&this.pageYOffset<=this.bottom||this.pageYOffset<0&&this.top<=window.innerHeight||this.pageYOffset>document.documentElement.scrollHeight-window.innerHeight&&this.pageYOffset<this.bottom?this.el.querySelector(".fixed-element").style.display="block":this.el.querySelector(".fixed-element").style.display="none")}},{key:"componentToHex",value:function(t){t=t.toString(16);return 1==t.length?"0"+t:t}},{key:"rgbToHex",value:function(t,i,e){return"#"+this.componentToHex(t)+this.componentToHex(i)+this.componentToHex(e)}},{key:"hexToRgb",value:function(t){var i=t.replace("#",""),t=(i=3==(t=i.match(/[a-f\d]/gi)).length?t[0]+t[0]+t[1]+t[1]+t[2]+t[2]:i).match(/[a-f\d]{2}/gi);return{r:parseInt(t[0],16),g:parseInt(t[1],16),b:parseInt(t[2],16)}}},{key:"bgColorCalc",value:function(t,i,e,o,n){var a=this.hexToRgb(t),r=this.hexToRgb(i),t=Math.round(a.r+(r.r-a.r)*(e-o)/(n-o)),i=Math.round(a.g+(r.g-a.g)*(e-o)/(n-o)),o=Math.round(a.b+(r.b-a.b)*(e-o)/(n-o));return this.rgbToHex(t,i,o)}},{key:"transformChange",value:function(){var e=this,o={},n=[];return this.change.transform.forEach(function(t){var i=e.superCalcValues(t.keyframe,e.top,e.bottom);switch(!0){case"translateX"===t.effect:o.x="".concat(i).concat(t.unit);break;case"translateY"===t.effect:o.y="".concat(i).concat(t.unit);break;case"translateZ"===t.effect:o.z="".concat(i).concat(t.unit);break;default:n.push("".concat(t.effect,"(").concat(i).concat(t.unit,")"))}}),{translate:o,transformChangeArr:n}}},{key:"opacityChange",value:function(){var i=this.superCalcValues(this.change.opacity.keyframe,this.top,this.bottom);Array.isArray(this.changeEl)?this.changeEl.forEach(function(t){t.style.opacity=i}):this.changeEl.style.opacity=i}},{key:"backgroundColorChange",value:function(){var i=this.superCalcValues(this.change.backgroundColor.keyframe,this.top,this.bottom);Array.isArray(this.changeEl)?this.changeEl.forEach(function(t){t.style.backgroundColor=i}):this.changeEl.style.backgroundColor=i}},{key:"superCalcValues",value:function(t,i,e){for(var o,n=t.point.map(function(t){return i+(e-i)*t}),a=0;a<n.length;a++){if(!(this.delayedYOffset>n[a])){o=a-1;break}o=a}return-1===o?t.value[0]:o===n.length-1?t.value[n.length-1]:"backgroundColor"===t.type?this.bgColorCalc(t.value[o],t.value[o+1],this.delayedYOffset,n[o],n[o+1]):t.value[o]+(t.value[o+1]-t.value[o])*(this.delayedYOffset-n[o])/(n[o+1]-n[o])}},{key:"calcValues",value:function(){this.delayedYOffset=this.delayedYOffset+(this.pageYOffset-this.delayedYOffset)*this.acc,this.rafId=window.requestAnimationFrame(this.calcValues.bind(this)),Math.abs(this.pageYOffset-this.delayedYOffset)<1&&(cancelAnimationFrame(this.rafId),this.rafState=!1)}}]),o}(),element=function(){_inherits(n,scroll);var o=_createSuper(n);function n(t,i,e){return _classCallCheck(this,n),(e=o.call(this,t,i,e)).init(),e}return _createClass(n,[{key:"init",value:function(){_get(_getPrototypeOf(n.prototype),"initFunc",this).call(this),_get(_getPrototypeOf(n.prototype),"bindEvent",this).call(this)}},{key:"transformChangeValue",value:function(){var i=this;this.transformValue=_get(_getPrototypeOf(n.prototype),"transformChange",this).call(this),Object.getOwnPropertyNames(this.transformValue.translate).length?Array.isArray(this.changeEl)?this.changeEl.forEach(function(t){t.style.transform="".concat(i.transformValue.transformChangeArr.join(" ")," translate3d(").concat(void 0===i.transformValue.translate.x?0:i.transformValue.translate.x,", ").concat(void 0===i.transformValue.translate.y?0:i.transformValue.translate.y,", ").concat(void 0===i.transformValue.translate.z?0:i.transformValue.translate.z,")")}):this.changeEl.style.transform="".concat(this.transformValue.transformChangeArr.join(" ")," translate3d(").concat(void 0===this.transformValue.translate.x?0:this.transformValue.translate.x,", ").concat(void 0===this.transformValue.translate.y?0:this.transformValue.translate.y,", ").concat(void 0===this.transformValue.translate.z?0:this.transformValue.translate.z,")"):Array.isArray(this.changeEl)?this.changeEl.forEach(function(t){t.style.transform=i.transformValue.transformChangeArr.join(" ")}):this.changeEl.style.transform=this.transformValue.transformChangeArr.join(" ")}},{key:"calcValues",value:function(){this.change.transform&&this.transformChangeValue(),this.change.opacity&&_get(_getPrototypeOf(n.prototype),"opacityChange",this).call(this),this.change.backgroundColor&&_get(_getPrototypeOf(n.prototype),"backgroundColorChange",this).call(this),_get(_getPrototypeOf(n.prototype),"calcValues",this).call(this)}}]),n}(),canvasImages=function(){_inherits(n,scroll);var o=_createSuper(n);function n(t,i,e){return _classCallCheck(this,n),(i=o.call(this,t,i,e)).option=e,i.ctx=i.changeEl.getContext("2d"),i.init(),i}return _createClass(n,[{key:"init",value:function(){this.canvasSize(),this.initImageEl(),this.drawValueInit(),this.imageIndex=this.imagePoint(),_get(_getPrototypeOf(n.prototype),"initFunc",this).call(this),_get(_getPrototypeOf(n.prototype),"bindEvent",this).call(this),this.bindEvent()}},{key:"initImageEl",value:function(){var e=this;Array.isArray(this.option.imageChange.value)&&0<this.option.imageChange.value.length&&(this.img=this.option.imageChange.value.map(function(t){var i=document.createElement("img");return i.src=e.option.imageChange.name[t],i}))}},{key:"bindEvent",value:function(){var t=this;window.addEventListener("load",function(){t.calcValues()}),window.addEventListener("resize",function(){t.canvasSize(),t.calcValues()})}},{key:"canvasSize",value:function(){this.widthRatio=window.innerWidth/this.changeEl.width,this.heightRatio=window.innerHeight/this.changeEl.height,this.scale=this.widthRatio>this.heightRatio?this.widthRatio:this.heightRatio,this.changeEl.style.transform="translate3d(-50%, -50%, 0) scale(".concat(this.scale,")")}},{key:"drawValueInit",value:function(){this.option.sxConvert={},this.option.syConvert={},this.option.dxConvert={},this.option.dyConvert={},this.option.sWidthConvert={},this.option.sHeightConvert={},this.option.dWidthConvert={},this.option.dHeightConvert={},this.option.sxConvert.point=this.option.sx.point.map(function(t){return t}),this.option.syConvert.point=this.option.sy.point.map(function(t){return t}),this.option.dxConvert.point=this.option.dx.point.map(function(t){return t}),this.option.dyConvert.point=this.option.dy.point.map(function(t){return t}),this.option.sWidthConvert.point=this.option.sWidth.point.map(function(t){return t}),this.option.sHeightConvert.point=this.option.sHeight.point.map(function(t){return t}),this.option.dWidthConvert.point=this.option.dWidth.point.map(function(t){return t}),this.option.dHeightConvert.point=this.option.dHeight.point.map(function(t){return t})}},{key:"drawValueConvert",value:function(){for(var o,n=this,t=0;t<this.option.matchMediaQuery.length;t++){if(!(window.innerWidth>=this.option.matchMediaQuery[t])){o=t-1;break}o=t}this.option.sxConvert.value=this.option.sx.value[this.option.matchMediaQuery[o]].map(function(t,i){var e;switch(!0){case n.widthRatio>=n.heightRatio:window.innerWidth>=n.option.matchMediaQuery[o]&&(e=0===i?Math.round((window.innerWidth/2-n.option.matchMediaQuery[o]/2+n.option.matchMediaQuery[o]*t)/n.scale):Math.round(window.innerWidth*t/n.scale));break;case n.widthRatio<n.heightRatio:window.innerWidth>=n.option.matchMediaQuery[o]&&(e=0===i?Math.round((window.innerWidth/2-n.option.matchMediaQuery[o]/2+n.option.matchMediaQuery[o]*t+(n.changeEl.width*n.scale-window.innerWidth)/2)/n.scale):Math.round((window.innerWidth*t+(n.changeEl.width*n.scale-window.innerWidth)/2)/n.scale))}return e}),this.option.syConvert.value=this.option.sy.value[this.option.matchMediaQuery[o]].map(function(t){var i;switch(!0){case n.widthRatio>n.heightRatio:i=Math.round(((n.changeEl.height*n.scale-window.innerHeight)/2+window.innerHeight*t)/n.scale);break;case n.widthRatio<=n.heightRatio:i=Math.round(window.innerHeight*t/n.scale)}return i}),this.option.dxConvert.value=this.option.dx.value[this.option.matchMediaQuery[o]].map(function(t,i){var e;switch(!0){case n.widthRatio>=n.heightRatio:window.innerWidth>=n.option.matchMediaQuery[o]&&(e=0===i?Math.round((window.innerWidth/2-n.option.matchMediaQuery[o]/2+n.option.matchMediaQuery[o]*t)/n.scale):Math.round(window.innerWidth*t/n.scale));break;case n.widthRatio<n.heightRatio:window.innerWidth>=n.option.matchMediaQuery[o]&&(e=0===i?Math.round((window.innerWidth/2-n.option.matchMediaQuery[o]/2+n.option.matchMediaQuery[o]*t+(n.changeEl.width*n.scale-window.innerWidth)/2)/n.scale):Math.round((window.innerWidth*t+(n.changeEl.width*n.scale-window.innerWidth)/2)/n.scale))}return e}),this.option.dyConvert.value=this.option.dy.value[this.option.matchMediaQuery[o]].map(function(t){var i;switch(!0){case n.widthRatio>n.heightRatio:i=Math.round(((n.changeEl.height*n.scale-window.innerHeight)/2+window.innerHeight*t)/n.scale);break;case n.widthRatio<=n.heightRatio:i=Math.round(window.innerHeight*t/n.scale)}return i}),this.option.sWidthConvert.value=this.option.sWidth.value[this.option.matchMediaQuery[o]].map(function(t){return Math.round(window.innerWidth*t/n.scale)}),this.option.sHeightConvert.value=this.option.sHeight.value[this.option.matchMediaQuery[o]].map(function(t){return Math.round(window.innerHeight*t/n.scale)}),this.option.dWidthConvert.value=this.option.dWidth.value[this.option.matchMediaQuery[o]].map(function(t){return Math.round(window.innerWidth*t/n.scale)}),this.option.dHeightConvert.value=this.option.dHeight.value[this.option.matchMediaQuery[o]].map(function(t){return Math.round(window.innerHeight*t/n.scale)})}},{key:"drawValue",value:function(){return this.drawValueConvert(),[Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.sxConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.syConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.sWidthConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.sHeightConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.dxConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.dyConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.dWidthConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.dHeightConvert,this.top,this.bottom))]}},{key:"imagePoint",value:function(){return Math.floor(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.imageChange,this.top,this.bottom))}},{key:"drawCanvas",value:function(t){this.ctx.clearRect(0,0,1920,1080);t=this.img[t];this.ctx.drawImage(t,this.location[0],this.location[1],this.location[2],this.location[3],this.location[4],this.location[5],this.location[6],this.location[7])}},{key:"transformChangeValue",value:function(){this.transformValue=_get(_getPrototypeOf(n.prototype),"transformChange",this).call(this),this.transformValue.transformChangeArr=this.transformValue.transformChangeArr.filter(function(t){return!t.match("scale")}),this.changeEl.style.transform="translate3d(-50%, -50%, 0) scale(".concat(this.scale,") ").concat(this.transformValue.transformChangeArr.join(" "))}},{key:"calcValues",value:function(){this.change&&(this.change.transform&&this.transformChangeValue(),this.change.opacity&&_get(_getPrototypeOf(n.prototype),"opacityChange",this).call(this),this.change.backgroundColor&&_get(_getPrototypeOf(n.prototype),"backgroundColorChange",this).call(this)),this.imageIndex=this.imagePoint(),this.location=this.drawValue(),this.drawCanvas(this.imageIndex),_get(_getPrototypeOf(n.prototype),"calcValues",this).call(this)}}]),n}(),canvasVideoFullSize=function(){_inherits(n,scroll);var o=_createSuper(n);function n(t,i,e){return _classCallCheck(this,n),(i=o.call(this,t,i,e)).option=e,i.ctx=i.changeEl.getContext("2d"),i.acc=i.option.acc,i.init(),i}return _createClass(n,[{key:"init",value:function(){this.canvasSize(),this.initImageEl(),this.drawValueInit(),this.imageIndex=this.imagePoint(),_get(_getPrototypeOf(n.prototype),"initFunc",this).call(this),_get(_getPrototypeOf(n.prototype),"bindEvent",this).call(this),this.bindEvent()}},{key:"initImageEl",value:function(){this.imageSeriesArr=[];for(var t=this.option.imageSeries.keyframe.value[0];t<this.option.imageSeries.keyframe.value[1]+1;t++){for(var i,e=document.createElement("img"),o=[],n=0;n<this.option.imageSeries.digit-String(t).length;n++)o.push(0);i=o.join("")+t,e.src="".concat(this.option.imageSeries.path).concat(this.option.imageSeries.prefix).concat(i,".").concat(this.option.imageSeries.ext),this.imageSeriesArr.push(e)}}},{key:"bindEvent",value:function(){var t=this;window.addEventListener("load",function(){t.calcValues()}),window.addEventListener("resize",function(){t.canvasSize(),t.calcValues()})}},{key:"canvasSize",value:function(){this.widthRatio=window.innerWidth/this.changeEl.width,this.heightRatio=window.innerHeight/this.changeEl.height,this.scale=this.widthRatio>this.heightRatio?this.widthRatio:this.heightRatio,this.changeEl.style.transform="translate3d(-50%, -50%, 0) scale(".concat(this.scale,")")}},{key:"drawValueInit",value:function(){this.option.sxConvert={},this.option.syConvert={},this.option.dxConvert={},this.option.dyConvert={},this.option.sWidthConvert={},this.option.sHeightConvert={},this.option.dWidthConvert={},this.option.dHeightConvert={},this.option.sxConvert.point=this.option.sx.point.map(function(t){return t}),this.option.syConvert.point=this.option.sy.point.map(function(t){return t}),this.option.dxConvert.point=this.option.dx.point.map(function(t){return t}),this.option.dyConvert.point=this.option.dy.point.map(function(t){return t}),this.option.sWidthConvert.point=this.option.sWidth.point.map(function(t){return t}),this.option.sHeightConvert.point=this.option.sHeight.point.map(function(t){return t}),this.option.dWidthConvert.point=this.option.dWidth.point.map(function(t){return t}),this.option.dHeightConvert.point=this.option.dHeight.point.map(function(t){return t})}},{key:"drawValueConvert",value:function(){for(var o,n=this,t=0;t<this.option.matchMediaQuery.length;t++){if(!(window.innerWidth>=this.option.matchMediaQuery[t])){o=t-1;break}o=t}this.option.sxConvert.value=this.option.sx.value[this.option.matchMediaQuery[o]].map(function(t,i){var e;switch(!0){case n.widthRatio>=n.heightRatio:window.innerWidth>=n.option.matchMediaQuery[o]&&(e=0===i?Math.round((window.innerWidth/2-n.option.matchMediaQuery[o]/2+n.option.matchMediaQuery[o]*t)/n.scale):Math.round(window.innerWidth*t/n.scale));break;case n.widthRatio<n.heightRatio:window.innerWidth>=n.option.matchMediaQuery[o]&&(e=0===i?Math.round((window.innerWidth/2-n.option.matchMediaQuery[o]/2+n.option.matchMediaQuery[o]*t+(n.changeEl.width*n.scale-window.innerWidth)/2)/n.scale):Math.round((window.innerWidth*t+(n.changeEl.width*n.scale-window.innerWidth)/2)/n.scale))}return e}),this.option.syConvert.value=this.option.sy.value[this.option.matchMediaQuery[o]].map(function(t){var i;switch(!0){case n.widthRatio>n.heightRatio:i=Math.round(((n.changeEl.height*n.scale-window.innerHeight)/2+window.innerHeight*t)/n.scale);break;case n.widthRatio<=n.heightRatio:i=Math.round(window.innerHeight*t/n.scale)}return i}),this.option.dxConvert.value=this.option.dx.value[this.option.matchMediaQuery[o]].map(function(t,i){var e;switch(!0){case n.widthRatio>=n.heightRatio:window.innerWidth>=n.option.matchMediaQuery[o]&&(e=0===i?Math.round((window.innerWidth/2-n.option.matchMediaQuery[o]/2+n.option.matchMediaQuery[o]*t)/n.scale):Math.round(window.innerWidth*t/n.scale));break;case n.widthRatio<n.heightRatio:window.innerWidth>=n.option.matchMediaQuery[o]&&(e=0===i?Math.round((window.innerWidth/2-n.option.matchMediaQuery[o]/2+n.option.matchMediaQuery[o]*t+(n.changeEl.width*n.scale-window.innerWidth)/2)/n.scale):Math.round((window.innerWidth*t+(n.changeEl.width*n.scale-window.innerWidth)/2)/n.scale))}return e}),this.option.dyConvert.value=this.option.dy.value[this.option.matchMediaQuery[o]].map(function(t){var i;switch(!0){case n.widthRatio>n.heightRatio:i=Math.round(((n.changeEl.height*n.scale-window.innerHeight)/2+window.innerHeight*t)/n.scale);break;case n.widthRatio<=n.heightRatio:i=Math.round(window.innerHeight*t/n.scale)}return i}),this.option.sWidthConvert.value=this.option.sWidth.value[this.option.matchMediaQuery[o]].map(function(t){return Math.round(window.innerWidth*t/n.scale)}),this.option.sHeightConvert.value=this.option.sHeight.value[this.option.matchMediaQuery[o]].map(function(t){return Math.round(window.innerHeight*t/n.scale)}),this.option.dWidthConvert.value=this.option.dWidth.value[this.option.matchMediaQuery[o]].map(function(t){return Math.round(window.innerWidth*t/n.scale)}),this.option.dHeightConvert.value=this.option.dHeight.value[this.option.matchMediaQuery[o]].map(function(t){return Math.round(window.innerHeight*t/n.scale)})}},{key:"drawValue",value:function(){return this.drawValueConvert(),[Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.sxConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.syConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.sWidthConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.sHeightConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.dxConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.dyConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.dWidthConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.dHeightConvert,this.top,this.bottom))]}},{key:"imagePoint",value:function(){return this.option.imageSeries.keyframe.value[1]=this.option.imageSeries.keyframe.value[1]-this.option.imageSeries.keyframe.value[0],this.option.imageSeries.keyframe.value[0]=0,Math.floor(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.imageSeries.keyframe,this.top,this.bottom))}},{key:"drawCanvas",value:function(t){this.ctx.clearRect(0,0,this.changeEl.width,this.changeEl.height);t=this.imageSeriesArr[t];this.ctx.drawImage(t,this.location[0],this.location[1],this.location[2],this.location[3],this.location[4],this.location[5],this.location[6],this.location[7])}},{key:"transformChangeValue",value:function(){this.transformValue=_get(_getPrototypeOf(n.prototype),"transformChange",this).call(this),this.transformValue.transformChangeArr=this.transformValue.transformChangeArr.filter(function(t){return!t.match("scale")}),this.changeEl.style.transform="translate3d(-50%, -50%, 0) scale(".concat(this.scale,") ").concat(this.transformValue.transformChangeArr.join(" "))}},{key:"calcValues",value:function(){this.change&&(this.change.transform&&this.transformChangeValue(),this.change.opacity&&_get(_getPrototypeOf(n.prototype),"opacityChange",this).call(this),this.change.backgroundColor&&_get(_getPrototypeOf(n.prototype),"backgroundColorChange",this).call(this)),this.imageIndex=this.imagePoint(),this.location=this.drawValue(),this.drawCanvas(this.imageIndex),_get(_getPrototypeOf(n.prototype),"calcValues",this).call(this)}}]),n}(),canvasVideoSizeControl=function(){_inherits(n,scroll);var o=_createSuper(n);function n(t,i,e){return _classCallCheck(this,n),(i=o.call(this,t,i,e)).option=e,i.ctx=i.changeEl.getContext("2d"),i.acc=i.option.acc,i.init(),i}return _createClass(n,[{key:"init",value:function(){this.canvasSize(),this.initImageEl(),this.drawValueInit(),this.imageIndex=this.imagePoint(),_get(_getPrototypeOf(n.prototype),"initFunc",this).call(this),_get(_getPrototypeOf(n.prototype),"bindEvent",this).call(this),this.bindEvent()}},{key:"initImageEl",value:function(){this.imageSeriesArr=[];for(var t=this.option.imageSeries.keyframe.value[0];t<this.option.imageSeries.keyframe.value[1]+1;t++){for(var i,e=document.createElement("img"),o=[],n=0;n<this.option.imageSeries.digit-String(t).length;n++)o.push(0);i=o.join("")+t,e.src="".concat(this.option.imageSeries.path).concat(this.option.imageSeries.prefix).concat(i,".").concat(this.option.imageSeries.ext),this.imageSeriesArr.push(e)}}},{key:"bindEvent",value:function(){var t=this;window.addEventListener("load",function(){t.calcValues()}),window.addEventListener("resize",function(){t.canvasSize(),t.calcValues()})}},{key:"canvasSize",value:function(){this.widthRatio=window.innerWidth/this.changeEl.width,this.heightRatio=window.innerHeight/this.changeEl.height,this.scale=this.widthRatio>this.heightRatio?this.widthRatio:this.heightRatio,this.changeEl.style.transform="translate3d(-50%, -50%, 0) scale(".concat(this.scale,")")}},{key:"drawValueInit",value:function(){this.option.sxConvert={},this.option.syConvert={},this.option.dxConvert={},this.option.dyConvert={},this.option.sWidthConvert={},this.option.sHeightConvert={},this.option.dWidthConvert={},this.option.dHeightConvert={},this.option.sxConvert.point=this.option.sx.point.map(function(t){return t}),this.option.syConvert.point=this.option.sy.point.map(function(t){return t}),this.option.dxConvert.point=this.option.dx.point.map(function(t){return t}),this.option.dyConvert.point=this.option.dy.point.map(function(t){return t}),this.option.sWidthConvert.point=this.option.sWidth.point.map(function(t){return t}),this.option.sHeightConvert.point=this.option.sHeight.point.map(function(t){return t}),this.option.dWidthConvert.point=this.option.dWidth.point.map(function(t){return t}),this.option.dHeightConvert.point=this.option.dHeight.point.map(function(t){return t})}},{key:"drawValueConvert",value:function(){for(var t,e=this,i=0;i<this.option.matchMediaQuery.length;i++){if(!(window.innerWidth>=this.option.matchMediaQuery[i])){t=i-1;break}t=i}this.option.sxConvert.value=this.option.sx.value[this.option.matchMediaQuery[t]].map(function(t,i){return Math.round(e.imageSeriesArr[e.imagePoint()].naturalWidth*t)}),this.option.syConvert.value=this.option.sy.value[this.option.matchMediaQuery[t]].map(function(t){return Math.round(e.imageSeriesArr[e.imagePoint()].naturalHeight*t)}),this.option.sWidthConvert.value=this.option.sWidth.value[this.option.matchMediaQuery[t]].map(function(t){return Math.round(e.imageSeriesArr[e.imagePoint()].naturalWidth*t)}),this.option.sHeightConvert.value=this.option.sHeight.value[this.option.matchMediaQuery[t]].map(function(t){return Math.round(e.imageSeriesArr[e.imagePoint()].naturalHeight*t)}),this.option.dWidthConvert.value=this.option.dWidth.value[this.option.matchMediaQuery[t]].map(function(t){return Math.round(window.innerWidth*t/e.scale)}),this.option.dHeightConvert.value=this.option.dWidth.value[this.option.matchMediaQuery[t]].map(function(t){return Math.round(window.innerWidth*t*e.imageSeriesArr[e.imagePoint()].naturalHeight/e.imageSeriesArr[e.imagePoint()].naturalWidth/e.scale)}),this.option.dxConvert.value=this.option.dx.value[this.option.matchMediaQuery[t]].map(function(t,i){t=e.widthRatio>e.heightRatio?Math.round(window.innerWidth*t/e.scale):Math.round(((e.changeEl.width*e.scale-window.innerWidth)/2+window.innerWidth*t)/e.scale);return t}),this.option.dyConvert.value=this.option.dy.value[this.option.matchMediaQuery[t]].map(function(t,i){i=e.widthRatio>e.heightRatio?Math.round((window.innerHeight*t-(e.changeEl.height*e.scale-window.innerHeight)/2)/e.scale):Math.round((window.innerHeight*t+window.innerHeight/2-e.option.dHeightConvert.value[i]*e.scale/2)/e.scale);return i})}},{key:"drawValue",value:function(){return this.drawValueConvert(),[Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.sxConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.syConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.sWidthConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.sHeightConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.dxConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.dyConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.dWidthConvert,this.top,this.bottom)),Math.round(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.dHeightConvert,this.top,this.bottom))]}},{key:"imagePoint",value:function(){return this.option.imageSeries.keyframe.value[1]=this.option.imageSeries.keyframe.value[1]-this.option.imageSeries.keyframe.value[0],this.option.imageSeries.keyframe.value[0]=0,Math.floor(_get(_getPrototypeOf(n.prototype),"superCalcValues",this).call(this,this.option.imageSeries.keyframe,this.top,this.bottom))}},{key:"drawCanvas",value:function(t){this.ctx.clearRect(0,0,this.changeEl.width,this.changeEl.height);t=this.imageSeriesArr[t];this.ctx.drawImage(t,this.location[0],this.location[1],this.location[2],this.location[3],this.location[4],this.location[5],this.location[6],this.location[7])}},{key:"transformChangeValue",value:function(){this.transformValue=_get(_getPrototypeOf(n.prototype),"transformChange",this).call(this),this.transformValue.transformChangeArr=this.transformValue.transformChangeArr.filter(function(t){return!t.match("scale")}),this.changeEl.style.transform="translate3d(-50%, -50%, 0) scale(".concat(this.scale,") ").concat(this.transformValue.transformChangeArr.join(" "))}},{key:"calcValues",value:function(){this.change&&(this.change.transform&&this.transformChangeValue(),this.change.opacity&&_get(_getPrototypeOf(n.prototype),"opacityChange",this).call(this),this.change.backgroundColor&&_get(_getPrototypeOf(n.prototype),"backgroundColorChange",this).call(this)),this.imageIndex=this.imagePoint(),this.location=this.drawValue(),this.drawCanvas(this.imageIndex),_get(_getPrototypeOf(n.prototype),"calcValues",this).call(this)}}]),n}();